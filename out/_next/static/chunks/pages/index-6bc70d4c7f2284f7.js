(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{78581:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(83879)}])},83879:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var a=n(85893),r=n(9008),i=n(7160),u=n.n(i),s=n(34051),o=n.n(s),p=n(97621),c=n(67294),d=n(35553),l=n(241);function y(e,t,n,a,r,i,u){try{var s=e[i](u),o=s.value}catch(p){return void n(p)}s.done?t(o):Promise.resolve(o).then(a,r)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function u(e){y(i,a,r,u,s,"next",e)}function s(e){y(i,a,r,u,s,"throw",e)}u(void 0)}))}}function f(){var e=(0,c.useState)("0"),t=e[0],n=e[1];return(0,c.useEffect)((function(){function e(){return t.apply(this,arguments)}function t(){return(t=m(o().mark((function e(){var t,a,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof window.ethereum){e.next=17;break}return t=new l.Q(window.ethereum),a=t.getSigner(),e.prev=3,e.t0=t,e.next=7,a.getAddress();case 7:return e.t1=e.sent,e.next=10,e.t0.getBalance.call(e.t0,e.t1);case 10:r=e.sent,n(d.dF(r)),e.next=17;break;case 14:e.prev=14,e.t2=e.catch(3),console.error("Error fetching balance:",e.t2);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})))).apply(this,arguments)}e();var a=new l.Q(window.ethereum);return a.on("block",e),function(){a.off("block",e)}}),[]),(0,a.jsxs)("nav",{className:"p-5 border-b-2 flex flex-row",children:[(0,a.jsx)("h1",{className:"py-4 px-4 font-bold text-3xl",children:" Eulera's Simple Fund Me App"}),(0,a.jsx)("div",{className:"ml-auto py-2 px-4",children:(0,a.jsx)(p.cg,{moralisAuth:!1},t)})]})}var v=n(69739),h=n(8198),w=n(84243),x=[{inputs:[{internalType:"address",name:"priceFeed",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"FundMe__NotOwner",type:"error"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"MINIMUM_USD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"fund",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"fundingAddress",type:"address"}],name:"getAddressToAmountFunded",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"getFunder",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPriceFeed",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVersion",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],g=JSON.parse('{"31337":["0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512"],"11155111":["0x41307b8e93488ee3E12f20D86db93C014A758119"]}'),b=n(83078),T=[{inputs:[{internalType:"address",name:"_aggregator",type:"address"},{internalType:"address",name:"_accessController",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"int256",name:"current",type:"int256"},{indexed:!0,internalType:"uint256",name:"roundId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"updatedAt",type:"uint256"}],name:"AnswerUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"roundId",type:"uint256"},{indexed:!0,internalType:"address",name:"startedBy",type:"address"},{indexed:!1,internalType:"uint256",name:"startedAt",type:"uint256"}],name:"NewRound",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"OwnershipTransferRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"accessController",outputs:[{internalType:"contract AccessControllerInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"aggregator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_aggregator",type:"address"}],name:"confirmAggregator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"description",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_roundId",type:"uint256"}],name:"getAnswer",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint80",name:"_roundId",type:"uint80"}],name:"getRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_roundId",type:"uint256"}],name:"getTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestAnswer",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestRound",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"",type:"uint16"}],name:"phaseAggregators",outputs:[{internalType:"contract AggregatorV2V3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"phaseId",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_aggregator",type:"address"}],name:"proposeAggregator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"proposedAggregator",outputs:[{internalType:"contract AggregatorV2V3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint80",name:"_roundId",type:"uint80"}],name:"proposedGetRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[],name:"proposedLatestRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_accessController",type:"address"}],name:"setController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];function _(e,t,n,a,r,i,u){try{var s=e[i](u),o=s.value}catch(p){return void n(p)}s.done?t(o):Promise.resolve(o).then(a,r)}function M(e){var t=e.priceFeedAddress,n=(0,c.useState)(""),r=n[0],i=n[1],u=(0,c.useState)(null),s=u[0],p=u[1],d=(0,b.JX)({abi:T,contractAddress:t,functionName:"latestRoundData",params:{}}),l=d.runContractFunction,y=(d.latestRoundData_data,d.latestRoundData_error),m=(d.latestRoundData_isFetching,function(){var e,t=(e=o().mark((function e(){var t,n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l();case 3:t=e.sent,n=t[1],a=n*parseFloat(r)*1e10/1e18,p(a),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Conversion error:",e.t0),p(null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})),function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function u(e){_(i,a,r,u,s,"next",e)}function s(e){_(i,a,r,u,s,"throw",e)}u(void 0)}))});return function(){return t.apply(this,arguments)}}());return(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsxs)("h3",{className:"text-xl font-semibold mb-4",children:[" Eth to USD Converter Based on PriceFeed: ",t]}),(0,a.jsx)("input",{placeholder:"Amount in ETH to Convert",value:r,onChange:function(e){return i(e.target.value)},className:"border px-8 py-2 rounded mr-4"}),(0,a.jsx)("button",{onClick:m,className:"bg-pink-300 text-white px-4 py-2 rounded mr-2",children:"Convert to USD"}),null!==s&&(0,a.jsxs)("p",{children:["USD Value: $",s]}),y&&(0,a.jsxs)("p",{children:["Error fetching price: ",y.message]})]})}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function N(e,t,n,a,r,i,u){try{var s=e[i](u),o=s.value}catch(p){return void n(p)}s.done?t(o):Promise.resolve(o).then(a,r)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function u(e){N(i,a,r,u,s,"next",e)}function s(e){N(i,a,r,u,s,"throw",e)}u(void 0)}))}}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],u=!0,s=!1;try{for(n=n.call(e);!(u=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);u=!0);}catch(o){s=!0,r=o}finally{try{u||null==n.return||n.return()}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(){var e=(0,c.useState)(""),t=e[0],n=e[1],r=(0,c.useState)(""),i=r[0],u=r[1],s=(0,c.useState)(null),y=s[0],m=s[1],f=(0,c.useState)(""),T=f[0],_=f[1],A=(0,p.aa)(),N=(0,c.useState)(null),k=(N[0],N[1],(0,b.Nr)()),S=(k.Moralis,k.isWeb3Enabled),C=k.chainId,E=parseInt(C);console.log("ChainId is ".concat(E));var F=E in g?g[E][0]:null;function D(){return R.apply(this,arguments)}function R(){return(R=j(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof window.ethereum){e.next=8;break}return t=new l.Q(window.ethereum),e.next=4,t.send("eth_requestAccounts",[]);case 4:return n=t.getSigner(),e.abrupt("return",{provider:t,signer:n});case 8:alert("Please install MetaMask, no wallet detected");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=(0,b.JX)({abi:x,contractAddress:F,functionName:"fund",msgValue:d.fi(t||"0"),params:{}}),H=U.runContractFunction,O=(U.data,U.isLoading,U.isFetching,(0,b.JX)({abi:x,contractAddress:F,functionName:"withdraw",params:{}})),P=O.runContractFunction,B=(O.data,O.isLoading_withdraw,O.isFetching_withdraw,(0,b.JX)({abi:x,contractAddress:F,functionName:"getPriceFeed",params:{}}).runContractFunction);function W(){return L.apply(this,arguments)}function L(){return(L=j(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:return t=e.sent.provider,e.next=5,t.getBalance(F);case 5:n=e.sent,u(d.dF(n));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return(V=j(o().mark((function e(){var t,n,a,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D();case 3:return t=e.sent.provider,n=t.getSigner(),a=new v.CH(F,x,n),e.next=8,a.MINIMUM_USD();case 8:r=e.sent,_(d.dF(r)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Failed to fetch MINIMUM_USD:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function J(){return Q.apply(this,arguments)}function Q(){return(Q=j(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,c.useEffect)((function(){function e(){return(e=j(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:t=e.sent,m(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[F]),(0,c.useEffect)((function(){F&&function(){V.apply(this,arguments)}()}),[F]),(0,c.useEffect)((function(){S&&J()}),[S]);var X=function(e){A({type:"warning",message:e,title:"Incomplete Transaction Notification",position:"topR",icon:(0,a.jsx)("img",{src:"/warning.png",alt:"Bell Icon",style:{width:"20px",height:"20px"}})})},Y=function(){var e=j(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.wait(1);case 3:J(),A({type:"info",message:"Transaction Complete!",title:"Transaction Notification",position:"topR",icon:(0,a.jsx)("img",{src:"/bell.png",alt:"Bell Icon",style:{width:"20px",height:"20px"}})}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),$(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),$=function(e){var t="Transaction failed";try{t=function(e){var t,n,a,r;if(4001===(null===e||void 0===e?void 0:e.code))return"User Declined";var i=(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||(null===e||void 0===e?void 0:e.message);if(null===i||void 0===i?void 0:i.toLowerCase().includes("insufficient funds"))return"Insufficient Wallet Balance";var u=(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.data)||(null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.data)||(null===e||void 0===e?void 0:e.data);if(!u||"string"!==typeof u)return console.warn("No hex data found in error:",e),null;try{var s=new h.vU(x).parseError(u);return null===s||void 0===s?void 0:s.name}catch(p){if(u.startsWith("0x08c379a0")){var o="0x"+u.slice(10);try{return I(w.$.decode(["string"],o),1)[0]}catch(p){return null}}return null}}(e)}catch(r){var n,a=(null===e||void 0===e?void 0:e.message)||(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)||"";t=a.includes("insufficient funds")?"Insufficient funds in wallet.":a.includes("User denied transaction signature")?"Transaction was rejected in wallet.":a||"Unknown error occurred."}console.log("Revert reason:",t),(null===t||void 0===t?void 0:t.includes("FundMe__NotOwner"))?X("Only the contract owner can withdraw funds."):(null===t||void 0===t?void 0:t.includes("You need to spend more ETH"))?X("You need to spend more ETH!"):X(t||"Unknown error occurred")};return(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsxs)("h2",{className:"text-2xl font-semibold mb-4",children:["FundMe Contract : ",F]}),(0,a.jsx)("input",{placeholder:"Amount in ETH",value:t,onChange:function(e){return n(e.target.value)},className:"border px-4 py-2 rounded mr-2"}),(0,a.jsx)("button",{onClick:j(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H({onSuccess:Y,onError:$});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),className:"bg-green-500 text-white px-4 py-2 rounded mr-2",children:"Fund"}),(0,a.jsx)("button",{onClick:j(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P({onSuccess:Y,onError:$});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),className:"bg-red-500 text-white px-4 py-2 rounded mr-2",children:"Withdraw"}),(0,a.jsx)("button",{onClick:W,className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Get Balance"}),i&&(0,a.jsxs)("p",{className:"mt-4",children:[" Current FundMe Balance: ",i," ETH"]}),T&&(0,a.jsxs)("p",{className:"mt-5",children:[" Minium Funding Amount: $",T," USD "]}),y&&(0,a.jsx)("div",{className:"fixed bottom-4 right-4 bg-white shadow-lg rounded-lg p-4 z-50",children:(0,a.jsx)(M,{priceFeedAddress:y})})]})}var S=JSON.parse('{"31337":["localhost"],"11155111":["sepolia"]}'),C=["31337","11155111"];function E(){var e=(0,b.Nr)(),t=e.isWeb3Enabled,n=e.chainId,i=(0,c.useState)(null),s=i[0],o=i[1],p=(0,c.useState)(!1),d=p[0],y=p[1];return(0,c.useEffect)((function(){"undefined"!==typeof window.ethereum?(y(!0),new l.Q(window.ethereum).getNetwork().then((function(e){var t=S[e.chainId.toString()]||"Unknown Network";o(t)})).catch((function(e){console.error("Error fetching network:",e),y(!1)}))):y(!1)}),[t,n]),(0,a.jsxs)("div",{className:u().container,children:[(0,a.jsxs)(r.default,{children:[(0,a.jsx)("title",{children:"Simple Smart Contract: Fund Me"}),(0,a.jsx)("meta",{name:"description",content:"Eulera's Simple Fund Me DApp"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),d&&(0,a.jsx)(f,{}),(0,a.jsx)("h1",{children:"Hello! & Welcome to This Demo - FundMe Dapp!"}),d?t?(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{children:["Your Wallet is connected to:"," ",(0,a.jsx)("strong",{children:s||"Loading..."})]}),C.includes(parseInt(n).toString())?(0,a.jsx)("div",{className:"flex flex-row",children:(0,a.jsx)(k,{className:"p-8"})}):(0,a.jsxs)("div",{children:["Please switch to a supported chainId. Supported Chain Ids are:"," ",C.join(", ")]})]}):(0,a.jsx)("div",{children:"Please connect to a Wallet"}):(0,a.jsx)("div",{children:"\ud83d\udeab No Web3 wallet detected. Please install MetaMask or another wallet extension."})]})}},7160:function(e){e.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}},9008:function(e,t,n){e.exports=n(83121)}},function(e){e.O(0,[774,888,179],(function(){return t=78581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);